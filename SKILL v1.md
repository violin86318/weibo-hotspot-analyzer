---
name: weibo_hotspot_analyzer
description: 抓取微博热搜榜单，自动搜索背景信息，AI分析生成产品创意，输出HTML分析报告。用于微博热搜、热点分析、产品创意挖掘、热搜榜单分析、热点产品化场景。
allowed-tools: Read, Write, Bash, Grep, Glob
---

[技能说明]
    自动化分析微博热搜并转化为产品创意的智能助手。通过实时抓取微博热搜榜单，深度挖掘每个热点的背景信息和事件脉络，利用AI从"有趣度80%+有用度20%"的角度提取产品创意，最终生成可视化的HTML分析报告。帮助产品经理、创业者、开发者快速发现市场机会，将热点转化为可执行的产品方案。

[核心能力]
    - **实时热搜抓取**：通过天聚数行API自动获取微博热搜TOP50榜单，包含热搜词、热度指数、标签
    - **智能背景搜索**：对每个热搜话题使用Web Search工具搜索相关新闻、事件脉络、社会背景
    - **AI创意分析**：基于热点信息，从"有趣度80分+有用度20分"的多维度评分体系提取产品创意
    - **多创意生成**：为每个热搜生成多个产品创意方案，包含名称、核心功能、目标用户描述
    - **可视化报告**：生成响应式HTML报告，活力橙主题，支持手机/平板查看，高亮展示高分创意
    - **智能评分分级**：自动计算综合评分，>80分标注为优秀，60-80分标注为良好

[执行流程]
    第一步：抓取微博热搜榜单
        - 运行 `python scripts/fetch_weibo_hot.py` 调用天聚数行API
        - 获取热搜TOP50数据：热搜词、热度指数、热搜标签
        - 解析JSON格式返回结果，验证数据完整性

    第二步：深度搜索热点背景
        - 对每个热搜词使用Web Search工具搜索相关新闻
        - 搜索关键词格式："<热搜词> 事件 背景 最新进展"
        - 收集搜索结果中的关键信息：事件时间线、涉及主体、社会影响、用户讨论热点

    第三步：AI分析生成产品创意
        - 基于热搜背景信息，分析产品化机会点
        - 从以下维度生成多个产品创意（至少3-5个）：
          * **有趣度分析**（80分权重）：创意新颖性、话题热度、用户参与度、传播潜力
          * **有用度分析**（20分权重）：实用价值、用户需求强度、市场痛点解决程度
        - 为每个创意生成结构化信息：
          * 产品名称（简洁易记，体现热点元素）
          * 核心功能（3-5个关键功能点）
          * 目标用户画像（年龄、兴趣、需求场景）
          * 综合评分（有趣度×0.8 + 有用度×0.2）

    第四步：生成HTML分析报告
        - 读取 [templates/report_template.html](templates/report_template.html) 模板
        - 填充以下内容到模板：
          1. **报告头部**：生成日期、热搜总数、分析时间
          2. **热搜概览**：榜单TOP10快速预览
          3. **详细分析**：每个热搜的完整信息
             - 热搜词、热度指数、标签
             - 事件脉络（时间线形式）
             - 产品创意列表（评分从高到低排序）
             - 评分等级标识（优秀>80分、良好60-80分、普通<60分）
          4. **创意排行**：所有创意按评分降序展示
          5. **数据统计**：高分创意数量、平均评分、热度分布
        - 应用响应式样式和活力橙配色
        - 输出文件名格式：`weibo_hotspot_report_<YYYY-MM-DD>.html`

    第五步：完成并输出
        - 确认HTML文件生成成功
        - 返回："✅ 微博热搜产品创意报告已生成：weibo_hotspot_report_<日期>.html"
        - 提供文件路径和查看建议

[注意事项]
    - **API调用限制**：天聚数行API有每日调用次数限制（普通会员100次/天），合理控制分析频率
    - **搜索深度控制**：每个热搜建议搜索3-5条相关新闻，避免过度搜索消耗token
    - **评分客观性**：AI评分基于信息完整度，如果背景信息不足可能导致评分偏差，可手动调整
    - **创意多样性**：确保为不同类型的热搜生成差异化创意，避免模板化输出
    - **HTML文件编码**：使用UTF-8编码保存，确保中文正常显示
    - **报告更新策略**：建议每日分析一次，避免重复分析相同热搜
    - **Vercel部署**：生成的HTML可直接拖拽到Vercel部署，无需额外配置
    - **数据时效性**：微博热搜每30分钟更新一次，报告生成时间戳很重要
    - **敏感内容过滤**：如遇违法违规热搜，跳过分析并记录日志
    - **评分体系说明**：有趣度权重更高（80%），因为热点产品通常依赖话题性和传播力
